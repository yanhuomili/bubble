<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>泡沫特效</title>
		<script type="text/javascript" src="js/jquery-3.1.1.min.js"></script>
		<style type="text/css">
		.con{
			width:300px;
			height:650px;
			margin-left: 200px;
			margin-top: 50px;
			border: 5px solid #ccc;
			background:url(img/flash.jpg) no-repeat ;
			
			background-size: 300px 700px;
		}
		.box{
			
			width:300px;
			height:650px;
			position: relative;
			overflow: hidden;
		}
		.creat{
			width:10px;
			height:10px;
			border-radius: 50%;
			background:pink;
			position: absolute;
		}	
		
		</style>
	</head>
	<body>
		<div class="con">
			<div class="box"></div>
		</div>
		
	<script type="text/javascript">
	$(function(){
		var box=document.getElementsByClassName("box")[0];
		function run(){
			//创建一个对象来存放每一个泡沫的信息
			var obj={
				"num":Math.random()*270,//设置随机出现的left值
				"gotopSpeed":[2000,2200,2400,2600,2800,3000,1800,2500,3200],//设置上升的随机高度
				"Color":['red','yellow','blue','orange','pink','purple','black','#ff0982'],//获取背景颜色
				"q":Math.floor(Math.random()*9)//获取随机数
			}
			//创建泡沫
			var a=document.createElement("div");
			box.appendChild(a);
			a.setAttribute("class","creat");
			a.style.background=obj.Color[obj.q];
			a.style.left=obj.num+"px";
			a.style.top='700px';
			//动画执行完后再回调函数里面删除泡沫
			$(a).each(function(index,element){
				$(this).animate({'top':'-50px','opacity':'0','width':(obj.gotopSpeed[obj.q]/100)+'px','height':(obj.gotopSpeed[obj.q]/100)+'px'},obj.gotopSpeed[obj.q],function(){
					$(this).remove()
				});	
			});
		};
		setInterval(run,50);
		
	});
	</script>	
	</body>
</html>
